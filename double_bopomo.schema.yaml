# Rime schema
# encoding: utf-8

schema:
  schema_id: double_bopomo
  name: "雙碼注音"
  version: "1.2"
  author:
    - imper0502 <yoj845@gmail.com>
  description: |
    注音的雙拼方案。
    
    會注音就可以學會，不需額外學習漢語拼音。
    -----------------------------------------
    ㄧㄨㄩ在 IUY；E 當〇聲母
    為了和「地球拼音」、「注音。臺灣正體」 共用詞庫，所以依賴地球拼音的詞庫。
    未來也許會有雙碼拼音專用的詞庫吧
    -----------------------------------------
    layout version: 20191031A

  dependencies:
    - cangjie5
    - terra_pinyin

switches:
  - name: ascii_mode
    reset: 0
    states: [ "中", "En" ]
  - name: full_shape
    states: [ "半形", "全形" ]
  - name: ascii_punct
    reset: 0
    states: [ "。，", "．，" ]
  - name: extended_charset
    reset: 1
  - name: t2tw
    reset: 1
    # 啓用 opencc 字形轉換，但不在選單中顯示。正 → 臺
    # states: [ "傳承字", "標準字" ]
  - name: s2tw
    reset: 1
    # 啓用 opencc 字形轉換，但不在選單中顯示。簡 → 臺
    # states: [ "简化字", "標準字" ]
    
engine:
  processors:
    - key_binder
    - ascii_composer
    - recognizer
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - affix_segmentor@abbreviation
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - echo_translator
    - punct_translator
    # - script_translator
    - table_translator
    - script_translator@abbreviation
    - table_translator@custom_phrase
  filters:
    - simplifier@t2tw  # 正繁轉換
    - simplifier@s2tw  # 簡繁轉換
    - uniquifier       # 過濾重複的候選字，有可能來自簡正繁轉換
    # - cjk_minifier        # 最新版已刪除該功能；字符集過濾：用於script_translator，使之支援extended_charset開關
    # - charset_filter@big5 # 最新版已刪除該功能
    # - charset_filter@gbk  # 最新版已刪除該功能
    - reverse_lookup_filter@comment_bopomo
    - reverse_lookup_filter@comment_cangjie
    - reverse_lookup_filter@comment_pinyin

menu:
  alternative_select_keys: 67890
 
speller:
  alphabet: "bpmfdtnlgkhjqxvwarzcsiuyoe12345IUYAOEQHWSRKDJFL;"
  initials: "bpmfdtnlgkhjqxvwarzcsiuyoeIUYAOEQHWSRKDJFL"
  finals: "12345"
  delimiter: " '"
  algebra:
  # 預處理
    - erase/^xx$/          # 移除【xx】編碼
    - xform/^m(\d)$/mu$1/  # ㄇ調 → ㄇㄨ調
    - xform/^r5$/er5/      # 〜兒
    - xform/v/ü/           # v → ü/
    - xform/iu/iou/        # 補上漏音
    - xform/ui/uei/        # 補上漏音
    - xform/iong/üng/      # [jqx]iong → [jqx]üng
    - xform/ong/ung/       # yong, -ong → yung, -ung
    - xform/^yu/ü/         # yue, yuan, yun, yung  → üe, üan, ün, üng
    - xform/^yi?/i/        # yi, y- → i, i-
    - xform/^wu?/u/        # wu, w- → u, u-
    - xform/^([jqx])u/$1ü/ # 取消ㄐㄑㄒ的省略表示法
    - xform/([iuü])n/$1en/ # in, ing, un, ung, ün, üng → ien, ieng, uen, ueng, üen, üeng
  # 開始轉換輸入鍵
    # 三個「二合聲母」ㄓㄔㄕ
    - xform/^zh/A/
    - xform/^ch/V/
    - xform/^sh/O/
    # 兩個「三合韻母」ㄤㄥ
    - xform/ang/J/
    - xform/eng/F/
    # 六個「二合韻母」ㄞㄟㄠㄡㄢㄣ
    - xform/ai/H/
    - xform/ei/W/
    - xform/ao/S/
    - xform/ou/R/
    - xform/an/K/
    - xform/en/D/
    # ㄦ及ㄝ
    - xform/er/L/
    - xform/eh/Q/
    - xform/(?<=[iü])e/Q/
    # 到此，【terra pinyin】→【bopomofo】
  # 輸入鍵轉換
    - xlit/AVO/avo/  # 聲母一律小寫
    - xform/ü/y/     # `Y鍵`輸入ü
    - xlit/QHWSRKDJFL/qhwsrkdjfl/  # 韻母也一律小寫
  # 使用零聲母表示韻母獨立音節；也用大寫表示韻母獨立音節
    - derive/^i(?=\d)/I/
    - derive/^u(?=\d)/U/
    - derive/^y(?=\d)/Y/
    - derive/^a(?=\d)/A/
    - derive/^o(?=\d)/O/
    - derive/^e(?=\d)/E/
    - derive/^q(?=\d)/Q/
    - derive/^h(?=\d)/H/
    - derive/^w(?=\d)/W/
    - derive/^s(?=\d)/S/
    - derive/^r(?=\d)/R/
    - derive/^k(?=\d)/K/
    - derive/^d(?=\d)/D/
    - derive/^j(?=\d)/J/
    - derive/^f(?=\d)/F/
    - derive/^l(?=\d)/L/
    - xform/^([iuyaoeqhwsrkdjfl]\d)/e$1/
    # 到此，基本拼寫規則完成
  # 進階的拼寫規則，使用更方便
    - derive/^x([iy])/f$1/           # ㄈㄒ共用`F鍵`
    - derive/^([avorzcs])i(\d)/$1$2/ # ㄓㄔㄕㄖㄗㄘㄙ的韻母可以省略
    - derive/^z([a-z]*[1-5])/w$1/    # `W鍵`也可以輸入ㄗ
    - derive/^e([iuy])(\d)/$1$2/     # 介音有聲調時，不需前綴零聲母
    - derive/(?<=[eiy])q(?=\d)/e/    # ㄝㄜ共用`E鍵`
  # 定位結合韻母
    # 左手上排：QWERT
    - xform/(?<=[a-z])y[qe](?=\d)/q/ # ㄩㄝ
    # - xform/(?<=[a-z])w(?=\d)/w/     # ㄟ；未作更動，故註解此行
    # - xform/(?<=[a-z])e(?=\d)/e/     # ㄜ；未作更動，故註解此行
    # - xform/(?<=[a-z])r(?=\d)/r/     # ㄡ；未作更動，故註解此行
    - xform/(?<=[a-z])[uy]k(?=\d)/t/ # ㄨㄢ、ㄩㄢ
    # 左手中排：ASDFG
    # - xform/(?<=[a-z])a(?=\d)/a/     # ㄚ；未作更動，故註解此行
    # - xform/(?<=[a-z])s(?=\d)/s/     # ㄠ；未作更動，故註解此行
    # - xform/(?<=[a-z])d(?=\d)/d/     # ㄣ；未作更動，故註解此行
    # - xform/(?<=[a-z])f(?=\d)/f/     # ㄥ；未作更動，故註解此行
    - xform/(?<=[a-z])(if|uh)(?=\d)/g/ # ㄧㄥ、ㄨㄞ
    # 左手下排：ZXCVB
    - xform/(?<=[a-z])[uy]d(?=\d)/z/   # ㄨㄣ、ㄩㄣ
    - xform/(?<=[a-z])[iu]a(?=\d)/x/   # ㄧㄚ、ㄨㄚ
    - xform/(?<=[a-z])[iu]j(?=\d)/c/   # ㄧㄤ、ㄨㄤ
    - xform/(?<=[a-z])(id|uw)(?=\d)/v/ # ㄧㄣ、ㄨㄟ
    - xform/(?<=[a-z])ir(?=\d)/b/      # ㄧㄡ
    # 右手上排：YUIOP
    # - xform/(?<=[a-z])y(?=\d)/y/     # ㄩ；未作更動，故註解此行
    # - xform/(?<=[a-z])u(?=\d)/u/     # ㄨ；未作更動，故註解此行
    # - xform/(?<=[a-z])i(?=\d)/i/     # ㄧ；未作更動，故註解此行
    - xform/(?<=[a-z])u?o(?=\d)/o/   # ㄛ、ㄨㄛ
    - xform/(?<=[a-z])i[qe](?=\d)/p/ # ㄧㄝ
    # 右手中排：HJKL;
    # - xform/(?<=[a-z])h(?=\d)/h/     # ㄞ；未作更動，故註解此行
    # - xform/(?<=[a-z])j(?=\d)/j/     # ㄤ；未作更動，故註解此行
    # - xform/(?<=[a-z])k(?=\d)/k/     # ㄢ；未作更動，故註解此行
    - xform/(?<=[a-z])[uy]f(?=\d)/l/ # ㄨㄥ、ㄩㄥ
      # 本方案不佔用分號 #
    # 右手下排：NM,./
    - xform/(?<=[a-z])is(?=\d)/n/ # ㄧㄠ
    - xform/(?<=[a-z])ik(?=\d)/m/ # ㄧㄢ
      # 本方案不佔用逗號 #
      # 本方案不佔用句號 #
      # 本方案不佔用"／" #
    # 到此，「雙拼 + 調」完成
  # 輸入聲調（不用數字鍵）
    - derive/([a-zA-Z]{1,2})1/$1;/
    - derive/([a-zA-Z]{1,2})2/$1;s/
    - derive/([a-zA-Z]{1,2})3/$1;d/
    - derive/([a-zA-Z]{1,2})4/$1;f/
    - derive/([a-zA-Z]{1,2})5/$1;g/
  # 省略聲調
    - derive/([a-z]{2})\d/$1/
  # 設定簡拼（abbrev）、略拼（fuzz）
    - fuzz/[A-Z]\d/$0/
    - fuzz/([A-Z])\d/$1/
    - fuzz/([a-z])[a-z]\d/$1/
    - fuzz/([a-z])[a-z](\d)/$1$2/

translator:
  strict_spelling: true  # 影響 speller 中，fuzz運算的行爲。
  spelling_hints: 3
  dictionary: terra_pinyin
  prism: double_bopomo
  preedit_format:
  # 雙拼反運算到注音
    # 反算聲調
    - xform/([a-zA-Z]{1,2});g/$1_5/
    - xform/([a-zA-Z]{1,2});f/$1_4/
    - xform/([a-zA-Z]{1,2});d/$1_3/
    - xform/([a-zA-Z]{1,2});s/$1_2/
    - xform/([a-zA-Z]{1,2});/$1_1/
    - xform/_//
    #
    - xform/(?<=[jqx])[kt]/YK/   # ㄐㄑㄒ + ㄢ = ㄐㄑㄒ + ㄩㄢ
    - xform/(?<=[jqx])[dz]/YD/   # ㄐㄑㄒ + ㄣ = ㄐㄑㄒ + ㄩㄣ
    - xform/(?<=[jqx])[fl]/YF/   # ㄐㄑㄒ + ㄥ = ㄐㄑㄒ + ㄩㄥ
    - xform/(?<=[jqx])[ax]/IA/   # ㄐㄑㄒ + ㄚ = ㄐㄑㄒ + ㄧㄚ
    - xform/(?<=[jqx])[sn]/IS/   # ㄐㄑㄒ + ㄠ = ㄐㄑㄒ + ㄧㄠ
    - xform/(?<=[jqx])[rb]/IR/   # ㄐㄑㄒ + ㄡ = ㄐㄑㄒ + ㄧㄡ
    - xform/(?<=[jqx])[jc]/IJ/   # ㄐㄑㄒ + ㄤ = ㄐㄑㄒ + ㄧㄤ
    - xform/(?<=f)t/YK/     # ㄒㄩㄢ
    - xform/(?<=f)z/YD/     # ㄒㄩㄣ
    - xform/(?<=f)c/IJ/     # ㄒㄧㄤ
    - xform/(?<=f)l/YF/     # ㄒㄩㄥ
    # 右下
    - xform/(?<=[a-z])n/IS/ # ㄧㄠ
    - xform/(?<=[a-z])m/IK/ # ㄧㄢ
    # 右中
    - xform/(?<=[a-z])h/H/     # ㄞ
    - xform/(?<=[a-z])j/J/     # ㄤ
    - xform/(?<=[a-z])k/K/     # ㄢ
    - xform/(?<=[a-z])l/UF/    # ㄨㄥ
    # 右下
    - xform/(?<=[a-z])y/Y/     # ㄩ
    - xform/(?<=[a-z])u/U/     # ㄨ
    - xform/(?<=[a-z])i/I/     # ㄧ
    - xform/(?<=[dtnlgkhavorzcsw])o/UO/  # ㄨㄛ
    - xform/(?<=[a-z])o/O/  # ㄛ
    - xform/(?<=[a-z])p/IQ/ # ㄧㄝ
    #
    - xform/(?<=[a-z])z/UD/   # ㄨㄣ
    - xform/(?<=[lf])x/IA/    # ㄧㄚ
    - xform/(?<=[a-z])x/UA/   # ㄨㄚ
    - xform/(?<=[a-z])c/UJ/   # ㄨㄤ
    - xform/(?<=[dtgkhZCSrzcs])v/UW/ # ㄨㄟ
    - xform/(?<=[a-z])v/ID/   # ㄧㄣ
    - xform/(?<=[a-z])b/IR/   # ㄧㄡ
    #
    - xform/(?<=[a-z])a/A/     # ㄚ
    - xform/(?<=[a-z])s/S/     # ㄠ
    - xform/(?<=[a-z])d/D/     # ㄣ
    - xform/(?<=[a-z])f/F/     # ㄥ
    - xform/(?<=[gkhZCS])g/UH/ # ㄨㄞ
    - xform/(?<=[a-z])g/IF/    # ㄧㄥ
    #
    - xform/(?<=[a-z])q/YQ/    # ㄩㄝ
    - xform/(?<=[a-z])w/W/     # ㄟ
    - xform/(?<=[a-z])e/E/     # ㄜ
    - xform/(?<=[a-z])r/R/     # ㄡ
    - xform/(?<=[a-z])t/UK/    # ㄨㄢ
    #
    - xform/f(?=[IY])/x/
    # - xform/([ '])[ ']+/$1/
    - xform/(?<=[bpmfdtnlgkhjqxavorzcsiuy])$/◌/
    - xform/(?<=[avorzcsw])I$/😬/
    - xform/(?<=[avorzcsw])I//
    - xlit/bpmfdtnlgkhjqxavorzcseiuyw/ㄅㄆㄇㄈㄉㄊㄋㄌㄍㄎㄏㄐㄑㄒㄓㄔㄕㄖㄗㄘㄙ◌ㄧㄨㄩㄗ/
    - xlit/IUYAOEQHWSRKDJFL 12345/ㄧㄨㄩㄚㄛㄜㄝㄞㄟㄠㄡㄢㄣㄤㄥㄦ　ˉˊˇˋ˙/
    # - xform/◌◌$/◌/
    - xform/◌(?!$)//
  comment_format:          # 提示雙拼按鍵：F = x 的提示要注意
  # 在 `comment_format` 底下，xform = derive 運算
    - erase/^xx$/          # 移除【xx】編碼
    - xform/(^| )m(\d)/$1mu$2/  # ㄇ調 → ㄇㄨ調
    - xform/(^| )r5$/$1er5/      # 〜兒
    - xform/v/ü/           # v → ü/
    - xform/iu/iou/        # 補上漏音
    - xform/ui/uei/        # 補上漏音
    - xform/iong/üng/      # [jqx]iong → [jqx]üng
    - xform/ong/ung/       # yong, -ong → yung, -ung
    - xform/(^| )yu/$1ü/     # yue, yuan, yun, yung  → üe, üan, ün, üng
    - xform/(^| )yi?/$1i/    # yi, y- → i, i-
    - xform/(^| )wu?/$1u/    # wu, w- → u, u-
    - xform/^([jqx])u/$1ü/ # 取消ㄐㄑㄒ的省略表示法
    - xform/(?<=[iuü])n/en/ # in, ing, un, ung, ün, üng → ien, ieng, uen, ueng, üen, üeng
    - xform/(^| )zh/$1A/
    - xform/(^| )ch/$1V/
    - xform/(^| )sh/$1O/
    - xform/ang/J/
    - xform/eng/F/
    - xform/ai/H/
    - xform/ei/W/
    - xform/ao/S/
    - xform/ou/R/
    - xform/an/K/
    - xform/en/D/
    - xform/er/L/
    - xform/eh/Q/
    - xform/([iü])e/$1Q/
    - xlit/AVO/avo/  # 聲母一律小寫
    - xform/ü/y/     # `Y鍵`輸入ü
    - xlit/QHWSRKDJFL/qhwsrkdjfl/  # 韻母也一律小寫
    - xform/(^| )(?=[iuyaoeqhwsrkdjfl]\d)/$1e/
    - xform/(^| )x(?<=[iy])/$1f/           # ㄈㄒ共用`F鍵`
    - xform/(^| )z([a-z]*[1-5])/$1w$2/    # `W鍵`也可以輸入ㄗ
    - xform/(?<=[eiy])q(?=\d)/e/     # ㄝㄜ共用`E鍵`
    - xform/(?<=[a-z])y[qe](?=\d)/q/ # ㄩㄝ
    - xform/(?<=[a-z])[uy]k(?=\d)/t/ # ㄨㄢ、ㄩㄢ
    - xform/(?<=[a-z])(if|uh)(?=\d)/g/ # ㄧㄥ、ㄨㄞ
    - xform/(?<=[a-z])[uy]d(?=\d)/z/   # ㄨㄣ、ㄩㄣ
    - xform/(?<=[a-z])[iu]a(?=\d)/x/   # ㄧㄚ、ㄨㄚ
    - xform/(?<=[a-z])[iu]j(?=\d)/c/   # ㄧㄤ、ㄨㄤ
    - xform/(?<=[a-z])(id|uw)(?=\d)/v/ # ㄧㄣ、ㄨㄟ
    - xform/(?<=[a-z])ir(?=\d)/b/      # ㄧㄡ
    - xform/(?<=[a-z])u?o(?=\d)/o/   # ㄛ、ㄨㄛ
    - xform/(?<=[a-z])i[qe](?=\d)/p/ # ㄧㄝ
    - xform/(?<=[a-z])[uy]f(?=\d)/l/ # ㄨㄥ、ㄩㄥ
    - xform/(?<=[a-z])is(?=\d)/n/ # ㄧㄠ
    - xform/(?<=[a-z])ik(?=\d)/m/ # ㄧㄢ
    - xform/(?<=[jqx])t/k/  # ㄐㄑㄒ + ㄢ = ㄐㄑㄒ + ㄩㄢ
    - xform/(?<=[jqx])z/d/  # ㄐㄑㄒ + ㄣ = ㄐㄑㄒ + ㄩㄣ
    - xform/(?<=[jqx])l/f/  # ㄐㄑㄒ + ㄥ = ㄐㄑㄒ + ㄩㄥ
    # 到此，雙碼注音最佳指法 + 以數字表示的聲調
    - xform/([a-zA-Z]{1,2})\d/$1 /  # 移除數字聲調；若註解此行，則提示輸入聲調時的按鍵（非數字）
    - xform/^([avorzcs])i(\d)/$1$2/ # ㄓㄔㄕㄖㄗㄘㄙ有聲調時，韻母可以省略
    - xform/^e([iuy]\d)/$1/         # 介音有聲調時，不需前綴零聲母
    - xform/([a-zA-Z]{1,2})5/$1;g /
    - xform/([a-zA-Z]{1,2})4/$1;f /
    - xform/([a-zA-Z]{1,2})3/$1;d /
    - xform/([a-zA-Z]{1,2})2/$1;s /
    - xform/([a-zA-Z]{1,2})1/$1; /
    
affix_segmentor@abbreviation:
  extra_tags:
    - reverse_lookup

abbreviation:
  tag: abbreviation
  dictionary: terra_pinyin
  prism:  abbreviated_bopomo
  prefix: ","
  tips: "【簡拼模式】"
  suffix: "'"
  closing_tips: "【雙碼注音】"
  disable_user_dict_for_patterns: false # 禁止某些編碼錄入用戶詞典
  enable_sentence:  false               # 是否開啓自動造句
  enable_user_dict: false               # 是否開啓用戶詞典〔用戶詞典記錄動態字詞頻、用戶詞〕
  enable_charset_filter: true           # 是否開啓字符集過濾
  preedit_format:
    - xlit/bpmfdtnlgkhjqxavorzcseiuy/ㄅㄆㄇㄈㄉㄊㄋㄌㄍㄎㄏㄐㄑㄒㄓㄔㄕㄖㄗㄘㄙ◌ㄧㄨㄩ/
    - xlit/IUYAOEQHWSRKDJFL12345/ㄧㄨㄩㄚㄛㄜㄝㄞㄟㄠㄡㄢㄣㄤㄥㄦˉˊˇˋ˙/
    - xform/$/【簡拼】/
    - xform/1(?!$)//

custom_phrase:
  dictionary: ""
  user_dict: custom_phrase
  db_class: stabledb
  enable_completion: false
  enable_sentence: false
  initial_quality: 1

# big5:
  # option_name: big5
  # charset: big5

# gbk:
  # option_name: gbk
  # charset: gbk

t2tw: # 正繁轉換
  option_name: t2tw
  opencc_config: t2tw.json
  show_in_comment: true
  tips: char

s2tw: # 簡繁轉換
  option_name: s2tw
  opencc_config: s2tw.json
  show_in_comment: true
  tips: char

punctuator:
  import_preset: symbols
  full_shape:
    '<' : [ '<', '《', '〈', '«', '‹' ]
    '>' : [ '>', '》', '〉', '»', '›' ]
    '$' : [ 'NT$', '$', '€', '£', '¥', '¢', '¤' ]
  half_shape:
    '<' : [ '<', '《', '〈', '«', '‹' ]
    '>' : [ '>', '》', '〉', '»', '›' ]
    '$' : [ 'NT$', '$', '€', '£', '¥', '¢', '¤' ]

key_binder:
  import_preset: default

recognizer:
  import_preset: default
  patterns:
    abbreviation: ",[a-zIUYAOEQHWSRKDJFL1-5]*'?$"
    email: "^[a-z][-_.0-9a-z]*@.*$"
    punct: "^/([0-9]0?|[A-Za-z]+)$"
    # uppercase: "^[A-Z][-_+.'0-9A-Za-z]*$"
    url: "^(www[.]|https?:|ftp:|mailto:).*$"

comment_bopomo:
  tags: [ none ]
  overwrite_comment: true
  dictionary: terra_pinyin
  comment_format:
    - xform/e?r5$/er5/
    - xform/iu/iou/
    - xform/ui/uei/
    - xform/ong/ung/
    - xform/(^|[ ])yi?/$1i/
    - xform/(^|[ ])wu?/$1u/
    - xform/iu/v/
    - xform/(^|[ ])([jqx])u/$1$2v/
    - xform/([iuv])n/$1en/
    - xform/zh/Z/
    - xform/ch/C/
    - xform/sh/S/
    - xform/ai/A/
    - xform/ei/I/
    - xform/ao/O/
    - xform/ou/U/
    - xform/ang/K/
    - xform/eng/G/
    - xform/an/M/
    - xform/en/N/
    - xform/er/R/
    - xform/eh/E/
    - xform/([iv])e/$1E/
    - xform/1//
    - xform/([a-zA-Z]+)5/5$1/
    - xform/([a-zA-Z1-5]+)($|[ ])/〔$1〕/
    - xform/([ZCSr])i(\d*)/$1$2/
    - xform/([zcs])i(\d*)/$1$2/
    - xlit/bpmfdtnlgkhjqxZCSrzcsiuvaoeEAIOUMNKGR2345/ㄅㄆㄇㄈㄉㄊㄋㄌㄍㄎㄏㄐㄑㄒㄓㄔㄕㄖㄗㄘㄙㄧㄨㄩㄚㄛㄜㄝㄞㄟㄠㄡㄢㄣㄤㄥㄦˊˇˋ˙/

comment_cangjie:
  tags: [ none ]
  overwrite_comment: false
  dictionary: cangjie5
  comment_format:
    - xform/([^ ]+)($|[ ])/〔$1〕/
    - xlit|abcdefghijklmnopqrstuvwxyz|日月金木水火土竹戈十大中一弓人心手口尸廿山女田難卜符|

comment_pinyin:
  tags: [ none ]
  overwrite_comment: false
  dictionary: terra_pinyin
  comment_format:
    - xform ([aeiou])(ng?|r)([1234]) $1$3$2
    - xform ([aeo])([iuo])([1234]) $1$3$2
    - xform a1 ā
    - xform a2 á
    - xform a3 ǎ
    - xform a4 à
    - xform e1 ē
    - xform e2 é
    - xform e3 ě
    - xform e4 è
    - xform o1 ō
    - xform o2 ó
    - xform o3 ǒ
    - xform o4 ò
    - xform i1 ī
    - xform i2 í
    - xform i3 ǐ
    - xform i4 ì
    - xform u1 ū
    - xform u2 ú
    - xform u3 ǔ
    - xform u4 ù
    - xform v1 ǖ
    - xform v2 ǘ
    - xform v3 ǚ
    - xform v4 ǜ
    - xform/([nljqxy])v/$1ü/
    - xform/eh[0-5]?/ê/
    - xform/([a-z]+)[0-5]/$1/
    - xform/(.+)($|[ ])/〔$1〕/
